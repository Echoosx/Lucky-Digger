# 简介：
- 玩家的人物手持一个镐，可以在多个方块上移动，用鼠标控制玩家的移动，敲击方块。
- 被敲击的砖块如果周围有与其颜色相同的砖块也会一起消失。不同颜色的方块会产出不同的物品。可以出现的物品分别有金钱，钻石，火以及生命。
- 金钱钻石以及对砖块的敲击都会对玩家的积分产生影响，火会使玩家的生命值减少，而生命会使玩家的生命值增加。
- 玩家的生命值减少为0的时候游戏结束。当玩家在所有方块中锤出一条穿越方块墙的纵向通道即可通关。玩家可以选择多破坏砖块来增加自己的得分。

# 交互：
首先会进入主菜单，用户点击了 play 以后会提示用户输入进行游戏的玩家名称，而点击 Quit 则会退出。进入游戏后也可以通过点击暂停游戏来使游戏的计时暂停。用户也可以查看自己过去的游戏记录以及排名。用户可以通过鼠标的点击来控制人物移动以及击打方块。

# 概要设计
## Main类（继承 Widget）
管理窗口的类，自身的窗口不进行显示，在槽函数中实现对窗口Menu,GameBoard,Win,Lose之间的切换
### 数据成员：
1. Menu *menu；（菜单窗口指针）
2. GameBoard *gameboard ;（游戏窗口指针）
3. Win *win;（成功界面指针）
4. Lose *lose;（失败界面指针）
### 成员函数：
1. void TurntoGame():槽函数，实现点击菜单界面的开始按钮时跳转到游戏窗口
2. void TurntoMenu():槽函数，实现点击游戏界面的返回主菜单按钮式跳回到菜单界面
3. void TurntoWin():槽函数，当玩家胜利发出信号被捕捉到以后切换到胜利窗口
4. void TurntoLose():槽函数，当玩家失败时发出信号被捕捉到以后切换到失败窗口

## Menu（继承 Widget）
菜单窗口类，最先被显示，相当于游戏的封面，与用户的交互中实现开始游戏和退出功能。
### 数据成员：
1. QPushButton *Play;（指向按钮 Play的指针）
2. QPushButton *Quit;（指向退出按钮的指针）
3. QLineEdit *Name;（提供用户输入 Name 的LineEdit）
4. QLabel *label;（提示用户输入 Name）
### 成员函数：
无

## stBlock
当做结构体使用，为了建立二维数组将每一个砖块的信息储存下来，与砖块一一对应。
### 数据成员：
1.    int color; 储存砖块的颜色代号
2.    int havePerson; 储存该位置有没有人的信息
3.    int haveBlock; 储存该位置是否还存在砖块
4.    int boom;储存砖块是否爆炸
5.    int change;储存砖块消失后出现什么物体
### 成员函数：
无

## GameBoard（继承 Widget）:
游戏界面类，实现游戏的主要功能。
### 数据成员：
1. QPushButton *Block[ROW+2][COL+2];（指向按钮的指针构成的二维数组，对应矩阵中每一个按钮）
2. stBlock block[ROW+2][COL+2];（stBlock类组成的二维数组，本质上起到结构体数组的作用，用来存储每个 Block 的属性，与 Block[ROW+2][COL+2]一一对应)
3. QPushButton *Start;指向开始游戏按钮的指针
4. QPushButton *Menu;指向返回主菜单按钮的指针
5. QSound *player;控制音乐播放的指针
6. QPushButton *Block_00—Block_ROW+2 COL+2;指向每一个表示砖块的按钮控件的指针

### 成员函数：
1. GameBoard(); 构造函数，构造游戏窗口的页面，实现各种信号与槽函数的对接，设置背景等功能。
2. void makeBlocks();  用每一个 QPushButton申请一个新按钮控件
3. void setBlockArray();将每一个 QPushButton指针放入二维数组里形成一个矩阵
4. QVBoxLayout *setHLayout();将每个按钮控件放在相应的行中，再将所有的行纵向排列形成矩阵。
4. void setColor();将所有的按钮设置一个随机的颜色，作为砖块的颜色。并且将颜色值记录在 block 数组中
5. void setEnabledf();在正式开始游戏之前，将所有的砖块都变成灰色并且不可点击
5. void Connects();将每一个按钮的点击信号都连接上对应的槽函数返回被点击的坐标值并且调用 Reflection函数
6. void Reflection();任何一个按钮被点击事都被调用，连接着砖块破坏以及人的移动等事件

# 实验小结
## 问题：
1. 开始的时候ui 界面和自己的代码之间总是不能有效的关联在一起
2. 音乐不知道如何循环播放
3. 背景不知道如何才能不重复地覆盖整个界面
4. 不知道如何在多个界面之间切换
5. 从网上借鉴的计时功能函数不知到如何才能添加到自己的代码中去

## 解决方案：
1. 放弃了 UI 界面，全部界面都由纯代码来完成设置。
2. 查阅资料后知道将音乐结束的信号与音乐开始的槽函数关联起来就能够使音乐循环播放
3. 将界面按照背景图片设置成了固定的大小。
4. 写一个大类管理所有的界面，在大类的槽函数里面写好各种切换方式，前一个窗口 hide，后一个窗口 show。
5. 通过对 Qt 结构的不断深入理解最后自然的解决。
